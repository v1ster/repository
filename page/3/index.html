
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="mars">
      
      
      
      
        <link rel="next" href="../../blog/tags/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Blog - Seaman's Notes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="lime">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#blog" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Seaman&#39;s Notes" class="md-header__button md-logo" aria-label="Seaman's Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 8H2.5a1 1 0 0 0-1 1v5.25a.75.75 0 0 1-1.5 0V9a2.5 2.5 0 0 1 2.5-2.5H4V5.133a1.75 1.75 0 0 1 1.533-1.737l2.831-.353.76-.913c.332-.4.825-.63 1.344-.63h.782c.966 0 1.75.784 1.75 1.75V4h2.25a.75.75 0 0 1 0 1.5H13v4h2.25a.75.75 0 0 1 0 1.5H13v.75a1.75 1.75 0 0 1-1.75 1.75h-.782c-.519 0-1.012-.23-1.344-.63l-.761-.912-2.83-.354A1.75 1.75 0 0 1 4 9.867Zm6.276-4.91-.95 1.14a.753.753 0 0 1-.483.265l-3.124.39a.25.25 0 0 0-.219.248v4.734c0 .126.094.233.219.249l3.124.39a.752.752 0 0 1 .483.264l.95 1.14a.25.25 0 0 0 .192.09h.782a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25h-.782a.25.25 0 0 0-.192.09Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Seaman's Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Blog
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/v1ster/repository" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
  </div>
  <div class="md-source__repository">
    v1ster/repository
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Seaman&#39;s Notes" class="md-nav__button md-logo" aria-label="Seaman's Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 8H2.5a1 1 0 0 0-1 1v5.25a.75.75 0 0 1-1.5 0V9a2.5 2.5 0 0 1 2.5-2.5H4V5.133a1.75 1.75 0 0 1 1.533-1.737l2.831-.353.76-.913c.332-.4.825-.63 1.344-.63h.782c.966 0 1.75.784 1.75 1.75V4h2.25a.75.75 0 0 1 0 1.5H13v4h2.25a.75.75 0 0 1 0 1.5H13v.75a1.75 1.75 0 0 1-1.75 1.75h-.782c-.519 0-1.012-.23-1.344-.63l-.761-.912-2.83-.354A1.75 1.75 0 0 1 4 9.867Zm6.276-4.91-.95 1.14a.753.753 0 0 1-.483.265l-3.124.39a.25.25 0 0 0-.219.248v4.734c0 .126.094.233.219.249l3.124.39a.752.752 0 0 1 .483.264l.95 1.14a.25.25 0 0 0 .192.09h.782a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25h-.782a.25.25 0 0 0-.192.09Z"/></svg>

    </a>
    Seaman's Notes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/v1ster/repository" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
  </div>
  <div class="md-source__repository">
    v1ster/repository
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
      
    
  
  
    <li class="md-nav__item">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="../.." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Blog
  </span>
  

      </a>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2025/03/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2025/08
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2025/02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2025/04
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2025/01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2025/01
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/04/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024/11
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/03/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024/08
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024/06
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024/02
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2023/04/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023/12
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2023/03/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023/09
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2023/02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023/06
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2018/01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2018/03
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Categories
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    linux
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="blog">Blog</h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-02-25 00:00:00">February 25, 2024</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="arch-linux"><a class="toclink" href="../../arch-linux-%E7%A1%AC%E7%9B%98%E6%89%A9%E5%AE%B9/">Arch Linux 硬盘扩容</a></h2>
<p>正常分区后,使用rsync 同步分区内容</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>rsync<span class="w"> </span>-a<span class="w"> </span>/src/*<span class="w"> </span>/dst/*
</span></code></pre></div>
<p>windows 引导丢失,使用命令重建
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>diskpart
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>list disk
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>select disk *     // 选择你要重建EFI分区的盘的编号，以数字代替*
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>list partition
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>create partition efi size = 260     // 260M，分配给EFI分区的容量format quick fs = fat32
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>exit
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>bcdboot C:\Windows                  // 注意盘符
</span></code></pre></div></p>
<p>arch linux 引导丢失.重建
在 archiso 环境中
<div class="language-shell highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>mount<span class="w"> </span>/dev/_root_partition<span class="w"> </span>/mnt
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>mount<span class="w"> </span>--mkdir<span class="w"> </span>/dev/_efi_system_partition<span class="w"> </span>/mnt/boot
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>swapon<span class="w"> </span>/dev/_swap_partition
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>pacstrap<span class="w"> </span>-K<span class="w"> </span>/mnt<span class="w"> </span>base<span class="w"> </span>linux-lts<span class="w"> </span>nvid<span class="w"> </span>linux-firmware<span class="w"> </span>amd-ucode
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>genfstab<span class="w"> </span>-U<span class="w"> </span>/mnt<span class="w"> </span>&gt;&gt;<span class="w"> </span>/mnt/etc/fstab
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>rch-chroot<span class="w"> </span>/mnt
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>mkinitcpio<span class="w"> </span>-P
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>bootctl<span class="w"> </span>--esp-path<span class="o">=</span>/boot<span class="w"> </span>--boot-path<span class="o">=</span>/boot<span class="w"> </span>install
</span></code></pre></div></p>
<p>The loader configuration is stored in the file <code>_esp_/loader/loader.conf</code>. See <a href="https://man.archlinux.org/man/loader.conf.5#OPTIONS">loader.conf(5) § OPTIONS</a> for details.
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>_esp_/loader/loader.conf
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>default  arch.conf
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>timeout  4
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>console-mode max
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>editor   no
</span></code></pre></div></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>_esp_/loader/entries/arch.conf
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>title   Arch Linux
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>linux   /vmlinuz-linux
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>initrd  /intel-ucode.img
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>initrd  /initramfs-linux.img
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>options root=UUID=_xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx_ rw
</span></code></pre></div>
<h3 id="_1"><a class="toclink" href="../../arch-linux-%E7%A1%AC%E7%9B%98%E6%89%A9%E5%AE%B9/#_1">参考</a></h3>
<ul>
<li>
<h2 id="linux"><a class="toclink" href="../../arch-linux-%E7%A1%AC%E7%9B%98%E6%89%A9%E5%AE%B9/#linux"><a href="https://zhuanlan.zhihu.com/p/33341983?#">迁移linux系统到新硬盘</a></a></h2>
</li>
<li>
<h2 id="windowsefi"><a class="toclink" href="../../arch-linux-%E7%A1%AC%E7%9B%98%E6%89%A9%E5%AE%B9/#windowsefi"><a href="https://blog.csdn.net/Rookie_tong/article/details/84455527#:~:text=%E9%87%8D%E5%BB%BAEFI%E5%88%86%E5%8C%BA%EF%BC%8C%E9%A6%96%E5%85%88%E9%9C%80%E8%A6%81%E4%B8%80%E4%B8%AAU%E7%9B%98%E3%80%82%20%E7%94%A8%E4%BA%8E%E5%88%B6%E4%BD%9CPE%E7%B3%BB%E7%BB%9F%E7%9B%98%EF%BC%8C%E4%BD%BF%E7%94%A8%E8%80%81%E6%AF%9B%E6%A1%83%E5%88%B6%E4%BD%9C%E5%8D%B3%E5%8F%AF%E3%80%82%20%E4%BD%BF%E7%94%A8PE%E7%B3%BB%E7%BB%9F%E7%9B%98%E8%BF%9B%E5%85%A5%E7%B3%BB%E7%BB%9F%EF%BC%8C%E6%89%93%E5%BC%80%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2%EF%BC%8C%E5%A6%82%E6%9E%9CEFI%E5%88%86%E5%8C%BA%E8%BF%98%E5%9C%A8%E7%9A%84%E8%AF%9D%EF%BC%8C%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E5%A6%82%E4%B8%8B%E5%91%BD%E4%BB%A4%E5%8D%B3%E5%8F%AF%EF%BC%8C%E5%85%B6%E4%B8%AD">Windows下误删EFI分区重建引导简单教程</a></a></h2>
</li>
<li>
<h2 id="systemd-boot"><a class="toclink" href="../../arch-linux-%E7%A1%AC%E7%9B%98%E6%89%A9%E5%AE%B9/#systemd-boot"><a href="https://wiki.archlinux.org/title/Systemd-boot">systemd-boot</a></a></h2>
</li>
<li>
<h2 id="installation"><a class="toclink" href="../../arch-linux-%E7%A1%AC%E7%9B%98%E6%89%A9%E5%AE%B9/#installation"><a href="https://wiki.archlinux.org/title/installation_guide">Installation</a></a></h2>
</li>
</ul>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-01-10 00:00:00">January 10, 2024</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="ssh-known_hosts"><a class="toclink" href="../../ssh-%E5%BF%AB%E9%80%9F%E5%88%A0%E9%99%A4known_hosts%E8%AE%B0%E5%BD%95/">ssh 快速删除known_hosts记录</a></h2>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>ssh-keygen -R 192.168.0.10
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>ssh-keygen -R [hostname]
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>ssh-keygen -R [ip_address]
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>ssh-keygen -R [hostname],[ip_address]
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>ssh-keyscan -t rsa [hostname],[ip_address] &gt;&gt; ~/.ssh/known_hosts
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>ssh-keyscan -t rsa [ip_address] &gt;&gt; ~/.ssh/known_hosts
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>ssh-keyscan -t rsa [hostname] &gt;&gt; ~/.ssh/known_hosts
</span></code></pre></div>
<h3 id="_1"><a class="toclink" href="../../ssh-%E5%BF%AB%E9%80%9F%E5%88%A0%E9%99%A4known_hosts%E8%AE%B0%E5%BD%95/#_1">参考</a></h3>
<p><a href="https://developer.aliyun.com/article/6827">KNOWN_HOSTS处理</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-01-04 00:00:00">January 4, 2024</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="windows-vscode"><a class="toclink" href="../../windows-%E4%B8%AD%E6%B7%BB%E5%8A%A0%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95---%E5%9C%A8vscode-%E4%B8%AD%E6%89%93%E5%BC%80/">windows 中添加右键菜单 - 在vscode 中打开</a></h2>
<ol>
<li><code>win+r</code> 输入regedit, 打开注册表</li>
<li>打开文件夹, 找到 <code>HKEY_CLASSES_ROOT\Directory\shell</code> 目录<ol>
<li>右键Shell 新建vscode 目录, 新建 -&gt; 项</li>
<li>修改 default 值 -&gt; <code>vscode 中打开</code> , 该项为右键菜单名</li>
<li>添加图标,新建 -&gt; 字符串值, 数值名称 Icon, 数值数据  <code>"C:\Program Files\VSCodium\VSCodium.exe"</code> </li>
<li>新建command 目录, 新建-&gt; 项</li>
<li>修改command 目录默认值, <code>"C:\Program Files\VSCodium\VSCodium.exe" "%1"</code> </li>
</ol>
</li>
<li>打开文件, 找到 <code>HKEY_CLASSES_ROOT\*\shell</code> 目录, 操作同上</li>
</ol>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2023-12-22 00:00:00">December 22, 2023</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="ascii"><a class="toclink" href="../../%E5%88%9B%E5%BB%BAascii%E7%A0%81%E7%9A%84%E7%9B%AE%E5%BD%95%E6%A0%91/">创建ASCII码的目录树</a></h2>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="w"> </span>ls<span class="w"> </span>-R<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;:</span>$<span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;s/:$//&#39;</span><span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;s/[^-][^\/]*\//--/g&#39;</span><span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;s/^/   /&#39;</span><span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;s/-/|/&#39;</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1"># or</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>tree<span class="w"> </span>.
</span></code></pre></div>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2023-11-09 00:00:00">November 9, 2023</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="windows"><a class="toclink" href="../../windows-10-%E5%88%86%E4%BA%AB%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/">windows</a></h2>
<p>打开控制面板中的网络连接，切换到共享标签，将“允许其它网络用户通过此计算机的Internet连接来连接”，然后选择需要共享至的网卡。</p>
<p>选中之后，系统会将目标网卡的IP地址自动设置为“192.168.137.1”，这样服务端就配置好了。然后你需要在不能上网的客户机上，填入一个同网段的IP地址，如：192.168.137.10 掩码地址填写为：55.255.255.0 网关为：192.168.137.1，这样我们客户端就可以通过服务端的网络上网了。</p>
<p>值得注意的是，Windows在重新启动后，共享的设置虽然还在，但实际不能上网了，这应该是微软的一个bug。我们做如下处理：</p>
<p>使用Win + R快捷键调出运行窗口，输入regedit,打开注册表编辑器，依次定位到如下位置：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\SharedAccess
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>在空白处右击鼠标，新建&quot;DWORD（32位）值（D），名称叫做&quot;EnableRebootPersistConnection&quot;，将数值数据改为1。
</span></code></pre></div>
<p>保存后重启计算机，下次重启就会自动开启连接了。</p>
<h3 id="_1"><a class="toclink" href="../../windows-10-%E5%88%86%E4%BA%AB%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/#_1">参考</a></h3>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/489160128">快速的网络共享方法?</a></li>
</ul>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2023-11-06 00:00:00">November 6, 2023</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="linux"><a class="toclink" href="../../linux-%E7%BD%91%E7%BB%9C%E6%8E%92%E6%9F%A5/">linux 网络排查</a></h2>
<p>查看网关</p>
<p><code>route  -n</code></p>
<p>查看 DNS</p>
<p><code>nslookup baidu.com</code></p>
<h3 id="_1"><a class="toclink" href="../../linux-%E7%BD%91%E7%BB%9C%E6%8E%92%E6%9F%A5/#_1">参考</a></h3>
<p><a href="https://www.cnblogs.com/Security-Darren/p/4700387.html">Linux系统排查4——网络篇</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2023-10-31 00:00:00">October 31, 2023</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="linux"><a class="toclink" href="../../linux-%E5%86%85%E6%A0%B8%E5%BC%80%E5%8F%91/">Linux 内核开发</a></h2>
<ul>
<li>
<h3 id="linux_1"><a class="toclink" href="../../linux-%E5%86%85%E6%A0%B8%E5%BC%80%E5%8F%91/#linux_1">查看linux 内核驱动</a></h3>
</li>
</ul>
<p><code>cat /lib/modules/$(uname -r)/modules.builtin</code></p>
<ul>
<li>
<h3 id="linux_2"><a class="toclink" href="../../linux-%E5%86%85%E6%A0%B8%E5%BC%80%E5%8F%91/#linux_2">linux 查看设备和驱动安装信息</a></h3>
</li>
<li>
<p><code>lsmod</code> 命令可以列出当前系统中所有已经加载了的模块/驱动</p>
</li>
<li>
<p>modinfo命令可以单看指定的模块/驱动的信息，其中alias指的是这个模块/驱动所支持的硬件的型号</p>
</li>
<li>
<p>使用modprobe或者insmod命令可以加载驱动，使用rmmod可以删除一个模块/驱动</p>
</li>
<li>
<h2 id="linux_3"><a class="toclink" href="../../linux-%E5%86%85%E6%A0%B8%E5%BC%80%E5%8F%91/#linux_3">Linux 内核管理</a></h2>
</li>
</ul>
<p>Linux 中所有的模块都存放在 /lib/modules/2.6.32-279.el6.i686/modules.dep 文件中，在安装模块时，依赖这个文件査找所有的模块，所以不需要指定模块所在位置的绝对路径，而且也依靠这个文件来解决模块的依赖性。</p>
<p>如果这个文件丢失了怎么办？不用担心，使用 depmod 命令会自动扫描系统中已有的模块，并生成 modules.dep 文件。命令格式如下：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>[root@localhost ~]# depmod [选项]
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>#不加选项，depmod命令会扫描系统中的内核模块，并写入modules.dep文件
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>选项：
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>  -a：扫描所有模块；
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>  -A：扫描新模块，只有有新模块时，才会更新modules.dep文件；
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>  -n：把扫描结果不写入modules.dep文件，而是输出到屏幕上；
</span></code></pre></div>
<h3 id="_1"><a class="toclink" href="../../linux-%E5%86%85%E6%A0%B8%E5%BC%80%E5%8F%91/#_1">参考</a></h3>
<p><a href="https://blog.csdn.net/dongshibo12/article/details/106921535">如何查看Linux 内核内置驱动</a>
<a href="https://blog.csdn.net/gx19862005/article/details/48622767">linux 查看设备信息和驱动</a>
<a href="https://c.biancheng.net/view/1039.html">Linux 内核模块管理(查看\添加和删除)</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2023-10-09 00:00:00">October 9, 2023</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="linux"><a class="toclink" href="../../linux-%E7%BC%A9%E5%B0%8F%E5%88%86%E5%8C%BA%E5%A4%A7%E5%B0%8F/">linux 缩小分区大小</a></h2>
<p>重启到 <code>LiveCD</code></p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># 查看分区 或者使用 fdisk -l</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>lsblk
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c1"># 检查调整的分区</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>e2fsck<span class="w"> </span>-f<span class="w"> </span>/dev/sda1
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="c1"># 分区调整到前100G空间</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>resize2fs<span class="w"> </span>/dev/sda1<span class="w"> </span>100G
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>删除sda1<span class="w"> </span>分区并重新新建sda1<span class="w"> </span>分区为缩小后的大小,w保存
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>fdisk<span class="w"> </span>/dev/sda
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="c1"># 再次检查分区</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>e2fsck<span class="w"> </span>-f<span class="w"> </span>/dev/sda1
</span></code></pre></div>
<h3 id="_1"><a class="toclink" href="../../linux-%E7%BC%A9%E5%B0%8F%E5%88%86%E5%8C%BA%E5%A4%A7%E5%B0%8F/#_1">参考</a></h3>
<p><a href="https://blog.pinkd.moe/linux/2018/01/31/resize-a-ext4-partiton-safely" title="无损调整EXT4分区大小">无损调整EXT4分区大小</a>
<a href="https://blog.colorfulshark.net/2019/12/29/how-to-resize-ext4-filesystem.html"> 在终端下调整ext4文件系统的大小</a>
<a href="https://mayanpeng.cn/archives/158.html">ProxmoxVE(PVE) 减小缩减虚拟机硬盘设置的空间大小</a>
<a href="https://pve.proxmox.com/wiki/Resize_disks">Resize disks</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2023-10-08 00:00:00">October 8, 2023</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="brief"><a class="toclink" href="../../openvpn-%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85%E5%88%86%E4%BA%AB%E7%BD%91%E7%BB%9C/">Brief</a></h2>
<p>首先设置内网机器的流量请求路由到 vpn client</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>ip<span class="w"> </span>route<span class="w"> </span>add<span class="w"> </span><span class="m">192</span>.168.0.0/24<span class="w"> </span>via<span class="w"> </span><span class="m">192</span>.168.1.4
</span></code></pre></div>
<p>保存到文件夹中</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>nano<span class="w"> </span>/etc/conf.d/net
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nv">routes_wlan1</span><span class="o">=</span><span class="s2">&quot;192.168.0.0/24 via 192.168.1.4</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="s2">    default via 192.168.1.1&quot;</span>
</span></code></pre></div>
<p>设置 vpn client 接收流量</p>
<div class="language-Shell highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>iptables<span class="w"> </span>-t<span class="w"> </span>nat<span class="w"> </span>-A<span class="w"> </span>POSTROUTING<span class="w"> </span>-s<span class="w"> </span><span class="m">192</span>.168.0.0/24<span class="w"> </span>-j<span class="w"> </span>SNAT<span class="w"> </span>--to-source<span class="w"> </span><span class="m">192</span>.168.1.4
</span></code></pre></div>
<p>如果是openwrt 则设置防火墙区域,并设置NAT 转发</p>
<h3 id="_1"><a class="toclink" href="../../openvpn-%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85%E5%88%86%E4%BA%AB%E7%BD%91%E7%BB%9C/#_1">参考</a></h3>
<ul>
<li><a href="https://wiki.gentoo.org/wiki/Static_routing">Adding a permanent static route</a></li>
<li><a href="https://www.cnblogs.com/huangweimin/articles/7712771.html">使用openv屁恩实现办公室和IDC机房互通</a></li>
</ul>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2023-09-17 00:00:00">September 17, 2023</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="wireguard"><a class="toclink" href="../../wireguard-%E9%83%A8%E7%BD%B2%E8%AE%B0%E5%BD%95/">wireguard 部署记录</a></h2>
<h3 id="_1"><a class="toclink" href="../../wireguard-%E9%83%A8%E7%BD%B2%E8%AE%B0%E5%BD%95/#_1">网络类型</a></h3>
<p>NAT0: OpenInternet，没有经过NAT<a href="https://so.csdn.net/so/search?q=%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2&amp;spm=1001.2101.3001.7020">地址转换</a>，公网IP</p>
<p>NAT1: Full Cone NAT，动态家宽可以达到最优的状态，<a href="https://so.csdn.net/so/search?q=%E5%A4%96%E7%BD%91&amp;spm=1001.2101.3001.7020">外网</a>设备可以主动发信息给NAT1网络内的设备。</p>
<p>NAT2: Address-Restricted Cone NAT，只有内网设备(地址:任意端口)主动发过信息给外网设备，外网设备才能主动连接NAT2的该设备的地址(地址:任意端口)
NAT3: Port-Restricted Cone NAT，只有内网设备(地址:指定端口)主动发过信息给外网设备，外网设备才能主动连接NAT3的该设备的地址(地址:指定端口)，限制为通信过的端口</p>
<p>NAT4: Symmetric NAT，只能和NAT0设备通讯</p>
<h3 id="_2"><a class="toclink" href="../../wireguard-%E9%83%A8%E7%BD%B2%E8%AE%B0%E5%BD%95/#_2">参考</a></h3>
<ul>
<li><a href="https://icloudnative.io/posts/wireguard-over-tcp-using-phantun/">使用 Phantun 将 WireGuard 的 UDP 流量伪装成 TCP</a></li>
<li><a href="https://gist.github.com/julionc/7476620">How to install PhantomJS on Ubuntu</a></li>
<li><a href="https://www.qxwa.com/dynamic-dns-services-using-cloudflare-in-an-openwrt-routed-environment.html">OpenWRT路由环境下使用Cloudflare的动态DNS（DDNS）服务</a></li>
<li><a href="https://www.jordanwhited.com/posts/wireguard-endpoint-discovery-nat-traversal/">WireGuard Endpoint Discovery and NAT Traversal using DNS-SD</a></li>
<li><a href="http://www.52im.net/thread-50-1-1.html">P2P技术详解(一)：NAT详解——详细原理、P2P简介</a></li>
<li><a href="https://www.stunprotocol.org/">Open source STUN server software</a></li>
<li><a href="https://www.llmgo.cn/post/wireguard-docs-practice/">WireGuard 的搭建使用与配置详解</a></li>
<li><a href="https://www.reddit.com/r/WireGuard/comments/it4tkw/peertopeer_behind_nat/?rdt=57046&amp;onetap_auto=true">peertopeer_behind_nat</a></li>
<li><a href="https://zdyxry.github.io/2019/03/23/Wireguard-%E4%BD%93%E9%AA%8C/">Wireguard 体验</a></li>
<li><a href="https://blog.csdn.net/D3_3109/article/details/119875626">如何快速判断自己的网络NAT类型</a></li>
<li><a href="https://lqingcloud.cn/post/network-01/">Wireguard：新一代魔法上网工具</a></li>
<li><a href="https://github.com/ntop/n2n">tool n2n</a></li>
</ul>
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  <a class="md-pagination__link" href="../..">1</a> <a class="md-pagination__link" href="../2/">2</a> <span class="md-pagination__current">3</span> <a class="md-pagination__link" href="../4/">4</a> <a class="md-pagination__link" href="../5/">5</a> <span class="md-pagination__dots">..</span> <a class="md-pagination__link" href="../9/">9</a>
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.sections", "navigation.instant", "navigation.path", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>